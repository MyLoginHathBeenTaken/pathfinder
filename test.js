const conf = require ("./index.js");
const parityTest = (a, b) => a === b;
const jsonTestSet = [{"_id":"65caf220fafc3c8188d75503","index":0,"guid":"404977cb-cbe8-4f07-9702-925b734ef55d","isActive":false,"balance":"$3,898.52","picture":"http://placehold.it/32x32","age":21,"eyeColor":"blue","name":"Mai Delgado","gender":"female","company":"BITREX","email":"maidelgado@bitrex.com","phone":"+1 (828) 521-2580","address":"513 Wilson Street, Germanton, Oklahoma, 4544","about":"Voluptate consectetur aliqua tempor commodo consequat est ad consectetur magna laborum do non laborum. Laborum eu nostrud sunt nostrud reprehenderit sunt dolor minim elit dolore. Duis consectetur aliqua nulla nostrud. Labore fugiat eu magna officia anim labore veniam labore magna exercitation labore ea. Enim sunt deserunt deserunt voluptate elit sunt cillum cillum incididunt reprehenderit exercitation esse culpa.\r\n","registered":"2014-03-28T11:00:13 +04:00","latitude":19.456136,"longitude":15.791906,"tags":["mollit","sunt","officia","ipsum","tempor","nisi","culpa"],"friends":[{"id":0,"name":"Samantha Valencia"},{"id":1,"name":"Helena Mcclain"},{"id":2,"name":"Sheila Jarvis"}],"greeting":"Hello, Mai Delgado! You have 9 unread messages.","favoriteFruit":"banana"},{"_id":"65caf22020bffdb4af48e4c2","index":1,"guid":"7b46a0f8-416d-4cf8-8506-a211084300a4","isActive":false,"balance":"$1,047.84","picture":"http://placehold.it/32x32","age":30,"eyeColor":"brown","name":"Bird Munoz","gender":"male","company":"PYRAMIS","email":"birdmunoz@pyramis.com","phone":"+1 (991) 541-3960","address":"130 Albemarle Road, Shrewsbury, Minnesota, 3636","about":"Do eu qui veniam ea sunt eiusmod occaecat incididunt. Ut elit ea et labore qui amet esse reprehenderit cupidatat consequat non culpa. Nostrud exercitation aliquip culpa in in ea in. Proident irure in nisi in dolore irure nisi occaecat nostrud quis laboris et consectetur enim.\r\n","registered":"2023-05-25T01:18:06 +04:00","latitude":-50.239674,"longitude":127.925923,"tags":["nisi","ea","tempor","ea","ipsum","labore","tempor"],"friends":[{"id":0,"name":"Aurora Salas"},{"id":1,"name":"Doyle Webb"},{"id":2,"name":"Betsy Rice"}],"greeting":"Hello, Bird Munoz! You have 7 unread messages.","favoriteFruit":"apple"},{"_id":"65caf220c513e1e635c1d5e0","index":2,"guid":"6ef478b2-43d4-4ae7-b78d-fa6191b77bc3","isActive":true,"balance":"$2,110.39","picture":"http://placehold.it/32x32","age":28,"eyeColor":"brown","name":"Katy Coleman","gender":"female","company":"IRACK","email":"katycoleman@irack.com","phone":"+1 (810) 481-2372","address":"326 Locust Street, Bynum, Kansas, 5191","about":"Ea ipsum aliquip ex qui dolor enim et amet velit nisi duis proident. Mollit eiusmod magna ut est fugiat excepteur ex ut quis deserunt sit adipisicing mollit. Enim proident enim cupidatat adipisicing laboris qui consequat aute esse ipsum dolore deserunt anim minim. Magna magna proident adipisicing officia deserunt irure consectetur deserunt laboris.\r\n","registered":"2019-03-15T07:14:08 +04:00","latitude":-66.340038,"longitude":-67.294181,"tags":["amet","Lorem","ipsum","proident","duis","consequat","laborum"],"friends":[{"id":0,"name":"Horne Romero"},{"id":1,"name":"Grimes Nixon"},{"id":2,"name":"Cortez Mckinney"}],"greeting":"Hello, Katy Coleman! You have 9 unread messages.","favoriteFruit":"strawberry"},{"_id":"65caf2207e0bfdf9c20717dc","index":3,"guid":"2eb97eb6-d42c-4987-a11d-f5abd3d71b92","isActive":true,"balance":"$2,251.70","picture":"http://placehold.it/32x32","age":21,"eyeColor":"blue","name":"Elva Newman","gender":"female","company":"ZILPHUR","email":"elvanewman@zilphur.com","phone":"+1 (984) 461-2551","address":"667 Barbey Street, Vienna, Northern Mariana Islands, 2576","about":"Eiusmod qui reprehenderit commodo est nostrud elit officia excepteur qui id cillum dolor. Dolore magna nostrud commodo velit aliquip dolore pariatur Lorem anim eu amet pariatur eiusmod mollit. Enim reprehenderit est dolor sunt. Enim eiusmod esse do esse. Enim esse est ipsum consectetur aliqua proident reprehenderit sint ex veniam consequat esse anim ad.\r\n","registered":"2018-02-17T08:31:57 +05:00","latitude":-18.674569,"longitude":-31.955693,"tags":["consectetur","tempor","aliqua","anim","et","exercitation","anim"],"friends":[{"id":0,"name":"Erickson Gray"},{"id":1,"name":"Rosa Mcmahon"},{"id":2,"name":"Scott Dejesus"}],"greeting":"Hello, Elva Newman! You have 10 unread messages.","favoriteFruit":"banana"},{"_id":"65caf220bbccc858f68ce1c9","index":4,"guid":"b52a9ff0-d9e2-403a-a6a1-dd249da7df7b","isActive":true,"balance":"$3,336.56","picture":"http://placehold.it/32x32","age":36,"eyeColor":"green","name":"Greta Dean","gender":"female","company":"MARQET","email":"gretadean@marqet.com","phone":"+1 (880) 543-2033","address":"538 Holt Court, Breinigsville, Michigan, 6513","about":"Nostrud cupidatat cillum aliquip sint in magna anim consectetur do deserunt veniam fugiat mollit. Nostrud et dolore culpa non non minim officia non non consequat duis irure in laborum. Consequat sint magna ea anim. Sit dolore et enim proident nulla ad quis ut officia laboris in ipsum ea. Do do commodo ea sint pariatur laborum et consectetur cillum.\r\n","registered":"2019-03-30T10:54:35 +04:00","latitude":13.522003,"longitude":-147.23405,"tags":["qui","fugiat","ex","ea","velit","id","id"],"friends":[{"id":0,"name":"Lorene Baldwin"},{"id":1,"name":"Grace Fitzgerald"},{"id":2,"name":"Hendrix Kirby"}],"greeting":"Hello, Greta Dean! You have 9 unread messages.","favoriteFruit":"apple"},{"_id":"65caf220d6ea81c4dd4b3563","index":5,"guid":"69e90189-e500-41db-9c63-048962947868","isActive":true,"balance":"$1,757.91","picture":"http://placehold.it/32x32","age":20,"eyeColor":"green","name":"Melanie Dominguez","gender":"female","company":"SNIPS","email":"melaniedominguez@snips.com","phone":"+1 (891) 569-2134","address":"641 Church Lane, Morriston, New Hampshire, 6742","about":"Excepteur magna reprehenderit eiusmod sunt quis laboris. Culpa Lorem qui ullamco nostrud nisi ea laborum nisi velit elit. Consectetur id sunt exercitation deserunt magna occaecat voluptate. Fugiat veniam eu commodo velit aute.\r\n","registered":"2016-01-05T07:13:31 +05:00","latitude":-37.892611,"longitude":179.596104,"tags":["occaecat","incididunt","in","voluptate","nostrud","reprehenderit","aliquip"],"friends":[{"id":0,"name":"Sharpe Pope"},{"id":1,"name":"Bernadette Bowen"},{"id":2,"name":"Good Velasquez"}],"greeting":"Hello, Melanie Dominguez! You have 6 unread messages.","favoriteFruit":"strawberry"},{"_id":"65caf2207f8e3a490f8be089","index":6,"guid":"95cccf22-283b-46c9-9f81-412de57b76bb","isActive":true,"balance":"$1,136.34","picture":"http://placehold.it/32x32","age":20,"eyeColor":"blue","name":"Gayle Rodriguez","gender":"female","company":"GAPTEC","email":"gaylerodriguez@gaptec.com","phone":"+1 (852) 418-3760","address":"384 Hancock Street, Elliston, Utah, 4675","about":"Consequat deserunt est minim consectetur sunt dolore. Minim laborum excepteur dolore excepteur ad. Amet fugiat ea excepteur officia commodo excepteur. Ullamco dolore commodo ad in officia elit ullamco. Dolore irure velit commodo excepteur. Irure nisi laborum commodo anim consequat labore eu esse et. Aute et sit voluptate do cupidatat nostrud id ex est.\r\n","registered":"2018-12-28T07:21:17 +05:00","latitude":26.545108,"longitude":150.453996,"tags":["aliqua","non","culpa","esse","officia","duis","laborum"],"friends":[{"id":0,"name":"Bush Robbins"},{"id":1,"name":"Watkins Bush"},{"id":2,"name":"Lucinda Gentry"}],"greeting":"Hello, Gayle Rodriguez! You have 6 unread messages.","favoriteFruit":"banana"}];
const key = 'foobar'
const keyHash = 'hash#hash'
const eolHash = 'hash in 3 2 1'
const qMixing = ' ""hi"" '

conf('./example.conf', true)
    .then(configObj => {
        const value = configObj.getKey('someKey');
        // run test fucntions
        console.log(`get key test ${configObj.getKey('getTest')}`)
        
        console.log(`set key test ${configObj.setKey('setTest', 'pass')}`)

        console.log(`get set test ${configObj.getKey('setTest')}`)
    })
    .catch(error => {
        console.error('Configuration loading failed:', error);
    });


// conf.setKey('testingKVP', 'KVP test pair');
// conf.setKey('testingJson', jsonTestSet);
// console.log('kvp test: ' + parityTest('KVP test pair', conf.getKey('testingKVP')));
// console.log('json test: ' + parityTest(jsonTestSet, conf.getKey('testingJson')));


// console.log('preloadedFetch: ' + parityTest(key , conf.getKey('key')))
// console.log('preloadedFetch: ' + parityTest(keyHash , conf.getKey('key.hash')))
// console.log('preloadedFetch: ' + parityTest(eolHash , conf.getKey('eol.hash')))
// console.log('preloadedFetch: ' + parityTest(qMixing , conf.getKey('qMixing')))
